PYTHON_ROOT = /usr/local
INC = 	$(PYTHON_ROOT)/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/include/python2.7 \
	$(PYTHON_ROOT)/lib/python2.7/site-packages/numpy/core/include/numpy \
	$(PYTHON_ROOT)/Cellar/eigen/3.2.2/include/eigen3/
	
LIB = $(PYTHON_ROOT)/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/lib 
CXX = g++
CXX_OPTIONS = -O2 -fPIC

INC_OPTIONS = $(patsubst %,-I%,$(INC))
LIB_OPTIONS = $(patsubst %,-L%,$(LIB))

all: foo.so vfuncs.so

foo.so: foo.cpp
	$(CXX) $(CXX_OPTIONS) -o $@ $^ \
		$(INC_OPTIONS) $(LIB_OPTIONS) -lpython2.7 -shared

vfuncs.so: vfuncs.cpp
	$(CXX) $(CXX_OPTIONS) -o $@ $^ \
		$(INC_OPTIONS) $(LIB_OPTIONS) -lpython2.7 -shared \

clean:
	rm -rf foo.so vfuncs.so
